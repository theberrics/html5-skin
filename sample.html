<!DOCTYPE html>
<html>
<head>
<meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">
<script src="//player.ooyala.com/static/v4/stable/latest/core.min.js"></script>
<script src="//player.ooyala.com/static/v4/stable/latest/video-plugin/main_html5.min.js"></script>
<script src="//player.ooyala.com/static/v4/stable/latest/video-plugin/osmf_flash.min.js"></script>
<script src="//player.ooyala.com/static/v4/stable/latest/video-plugin/bit_wrapper.min.js"></script>
<script src="//player.ooyala.com/static/v4/stable/latest/other-plugin/discovery_api.min.js"></script>
<script src="build/html5-skin.min.js"></script>
<link href="build/html5-skin.min.css" rel="stylesheet" type="text/css">
<style>
.block-responsive-video,.block-responsive-video>*{box-sizing:border-box;display:block;margin:0;max-width:100%;padding:0;position:relative}.block-responsive-video{height:0;padding-top:56.25%}.block-responsive-video>*{height:100%;left:0;position:absolute;top:0;width:100%}.block-align-center{margin:0 auto}.var-constrained-width{width:700px}
</style>
</head>
<body>
<div class="block-align-center block-responsive-video var-constrained-width">
    <div id="container"></div>
</div>
<script>
var playerSkinJSONConfig = {
    'custom' : 'skin.json',
    'default' : '//player.ooyala.com/static/v4/stable/latest/skin-plugin/skin.json'
};
var playerEncodingPriority = {
    'customHDSFirst' : ['hds', 'mp4', 'dash', 'hls', 'webm'],
    'customMP4Only' : ['mp4'],
    'default' : ['hls', 'dash', 'mp4', 'hds', 'webm']
};
var inlineSkinConfig = {
    'custom' : {
        'controlBar' : {
            'logo' : {
                'imageResource' : {
                    'url' : ''
                },
                'clickUrl' : '',
                'target' : '',
                'width' : 0,
                'height' : 0
            }
        },
        'buttons' : {
            'desktopContent' : [
                {},{},{},{},{},{},
                {
                    'name' : 'discovery',
                    'location' : 'void'
                },
                {},{},
                {
                    'name' : 'logo',
                    'location' : 'void'
                }
            ],
            'desktopAd' : [
                {},{},{},
                {
                    'name' : 'logo',
                    'location' : 'void'
                }
            ],
            'mobileContent' : [
                {},{},{},{},{},
                {
                    'name' : 'discovery',
                    'location' : 'void'
                },
            ]
        }
    },
    'none' : {}
}
var playerParams = {
    'debug' : false,
    'encodingPriority' : playerEncodingPriority.customHDSFirst,
    'pcode' : 'o5cWMyOtJW4wGvDintr2yQ_yjBmX',
    'playerBrandingId' : 'e154ebb7c3b84391aec43979664a30e5',
    'preload' : true,
    'skin' : {
        'config' : playerSkinJSONConfig.custom,
        'inline' : inlineSkinConfig.custom
    },
    onCreate : function(player) {

        var _player = player;

        var _bitrates = [];

        _player.mb.subscribe('*', '', function(eventName) {

            if(eventName === OO.EVENTS.BITRATE_INFO_AVAILABLE) {

                _bitrates = _player.getBitratesAvailable();

            }

            if(_bitrates.length > 0 && eventName === OO.EVENTS.VC_WILL_PLAY) {

                _player.setTargetBitrate(_bitrates[_bitrates.length - 2].id);

            }

        });

    }
};
OO.ready(function() {
    window.pp = OO.Player.create('container', 'xiNmJvNDE6953MCHBvVmCg6ejKhvAOn-', playerParams);
});
</script>
</body>
</html>
